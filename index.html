<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cute Waterfall Messages</title>

  <!-- Momo Signature Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Momo+Signature&display=swap" rel="stylesheet">

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      height: 100vh;
      width: 100vw;
      overflow: hidden;
      position: relative;
      background: url('bg.jpg') no-repeat center center/cover;
      display: flex;
      justify-content: center;
      align-items: center;
      animation: fadeInBody 1.5s ease-in forwards;
    }

    @keyframes fadeInBody {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* Center image styling */
    .center-image {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.4);
      opacity: 0;
      animation: popUp 2s ease-out forwards, hoverFloat 5s ease-in-out infinite;
      max-width: 60vw;
      width: auto;
      height: auto;
      z-index: 3;
      pointer-events: none;
    }

    @keyframes popUp {
      0% { opacity: 0; transform: translate(-50%, -50%) scale(0.3); }
      60% { opacity: 1; transform: translate(-50%, -50%) scale(1.05); }
      100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    }

    /* Gentle hover floating animation */
    @keyframes hoverFloat {
      0% { transform: translate(-50%, -50%) scale(1); }
      50% { transform: translate(-50%, -52%) scale(1.03); }
      100% { transform: translate(-50%, -50%) scale(1); }
    }

    /* Waterfall messages */
    .floating-message {
      position: absolute;
      top: -10vh;
      opacity: 0;
      font-family: "Momo Signature", cursive;
      font-size: 2rem;
      color: white;
      text-shadow: 0 0 8px rgba(255,255,255,0.9);
      animation: fallDown 8s linear forwards;
      pointer-events: none;
      white-space: nowrap;
      z-index: 2;
    }

    @keyframes fallDown {
      0% { transform: translateY(-10vh); opacity: 0; }
      15% { opacity: 1; }
      85% { opacity: 1; }
      100% { transform: translateY(110vh); opacity: 0; }
    }

    @media (max-width: 768px) {
      .center-image { max-width: 80vw; }
      .floating-message { font-size: 1.5rem; }
    }

    @media (max-width: 480px) {
      .center-image { max-width: 90vw; }
      .floating-message { font-size: 1.2rem; }
    }
  </style>
</head>
<body>
  <!-- Main Image -->
  <img src="img1.png" alt="Center Image" class="center-image" id="mainImage">

  <!-- Background Music -->
  <audio id="bgMusic" src="public/song.mp3" preload="auto" loop></audio>

  <script>
    window.addEventListener('load', () => {
      const music = document.getElementById('bgMusic');
      const image = document.getElementById('mainImage');
      const body = document.body;

      // Try autoplay fade-in
      music.volume = 0;
      music.play().then(() => {
        let vol = 0;
        const fade = setInterval(() => {
          if (vol < 1) {
            vol += 0.05;
            music.volume = vol;
          } else clearInterval(fade);
        }, 200);
      }).catch(err => console.log("Autoplay blocked:", err));

      // Cute messages
      const messages = [
        "Youâ€™re my sunshine â˜€ï¸", "Love you always ðŸ’–", "Cutie pie ðŸ§¸", "Stay magical âœ¨",
        "Smiles all day ðŸ˜Š", "Sweet like candy ðŸ¬", "Youâ€™re my dream ðŸŒ™",
        "Pretty soul ðŸŒ·", "Warm cuddles ðŸ»", "Youâ€™re adorable ðŸ’",
        "Heart full of love ðŸ’—", "Dream big ðŸŒˆ", "Youâ€™re my melody ðŸŽµ",
        "Always with you ðŸŒ»", "Stay cute ðŸ°", "Shine bright ðŸ’Ž",
        "Hugs and kisses ðŸ’‹", "You make me blush ðŸŒº", "My favorite human ðŸ’ž"
      ];

      // Spawn waterfall messages
      function spawnMessage() {
        const msg = document.createElement('div');
        msg.className = 'floating-message';
        msg.textContent = messages[Math.floor(Math.random() * messages.length)];

        const bodyWidth = window.innerWidth;
        const imageRect = image.getBoundingClientRect();

        // Random font size
        const size = Math.random() * 0.8 + 1.2;
        msg.style.fontSize = `${size}rem`;

        // Avoid overlapping center image
        let x;
        let safeLeft = imageRect.left - 180;
        let safeRight = imageRect.right + 180;
        let tries = 0;
        do {
          x = Math.random() * (bodyWidth - 200);
          tries++;
        } while (x > safeLeft && x < safeRight && tries < 30);

        msg.style.left = `${x}px`;

        // Random pastel glow
        const colors = [
          'rgba(255,182,193,0.9)', // pink
          'rgba(173,216,230,0.9)', // blue
          'rgba(221,160,221,0.9)', // lavender
          'rgba(152,251,152,0.9)', // mint
          'rgba(255,250,205,0.9)'  // yellow
        ];
        msg.style.textShadow = `0 0 15px ${colors[Math.floor(Math.random() * colors.length)]}`;

        body.appendChild(msg);
        setTimeout(() => msg.remove(), 8000);
      }

      // Start infinite waterfall loop (reduced density)
      setTimeout(() => {
        setInterval(spawnMessage, 800); // fewer messages for gentle flow
      }, 2000);
    });
  </script>
</body>
</html>
